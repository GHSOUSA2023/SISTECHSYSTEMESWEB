(()=>{var e={};e.id=181,e.ids=[181],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},6897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>l,serverHooks:()=>w,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{DELETE:()=>p,GET:()=>c,PUT:()=>d});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),u=r(525);async function c(e,{params:t}){try{let{id:e}=await t;if(!e)return n.NextResponse.json({error:"ID is required"},{status:400});let r=await u.A.getById(e);if(!r)return n.NextResponse.json({error:"Item not found"},{status:404});return n.NextResponse.json(r)}catch(e){return console.error("GET Error:",e),n.NextResponse.json({error:"Failed to fetch item"},{status:500})}}async function d(e,{params:t}){try{let r=await t?.id,s=r?.toString();if(!s)return n.NextResponse.json({error:"ID is required"},{status:400});let a=await e.json(),i=await u.A.updateItem(s,a);return n.NextResponse.json(i)}catch(e){return n.NextResponse.json({error:"Failed to update item"},{status:500})}}async function p(e,{params:t}){try{let e=await t?.id,r=e?.toString();if(!r)return n.NextResponse.json({error:"ID is required"},{status:400});return await u.A.deleteItem(r),n.NextResponse.json({success:!0})}catch(e){return n.NextResponse.json({error:"Failed to delete item"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/packages/[id]/route",pathname:"/api/packages/[id]",filename:"route",bundlePath:"app/api/packages/[id]/route"},resolvedPagePath:"/Users/geraldohenriquesousa/Documents/projets/web_aws_ sistechsystemes/src/app/api/packages/[id]/route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:h,workUnitAsyncStorage:x,serverHooks:w}=l;function y(){return(0,o.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:x})}},6487:()=>{},8335:()=>{},1065:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(2618),a=r(1982),i=r(3710),o=r(687);let n={apiKey:"AIzaSyArKn-vO5PGz6C9lv2RvKGskkE9yQWJgGM",authDomain:"creccal-control.firebaseapp.com",databaseURL:process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:"creccal-control",storageBucket:"creccal-control.firebasestorage.app",messagingSenderId:"601224722090",appId:"1:601224722090:web:18cc743e48521aaa1d02d3"},u=(0,s.Wp)(n),c=(0,i.C3)(u);(0,a.aU)(u),(0,o.xI)(u);class d{constructor(e){this.path=e,this.dbRef=(0,i.KR)(c,e)}async getAll(){return Object.entries((await (0,i.Jt)(this.dbRef)).val()||{}).map(([e,t])=>({apt:e,...t}))}async getById(e){let t=(0,i.KR)(c,`${this.path}/${e}`);return(await (0,i.Jt)(t)).val()}async create(e){let t=(0,i.VC)(this.dbRef),r={...e,id:t.key};return await (0,i.hZ)(t,r),r}async update(e,t){let r=(0,i.KR)(c,`${this.path}/${e}`),s=await this.getById(e);if(!s)throw Error("Item not found");let a={...s,...t};return await (0,i.hZ)(r,a),a}async delete(e){let t=(0,i.KR)(c,`${this.path}/${e}`);await (0,i.hZ)(t,null)}async getFiltered(e,t,r){let s=(0,i.P)(this.dbRef,(0,i.kT)(e),(0,i.iz)(r));return Object.values((await (0,i.Jt)(s)).val()||{})}}},525:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(1065);class a extends s.J{constructor(){super("packages")}async getAllActiveItems(){return(await this.getAll()).filter(e=>"deleted"!==e.status)}async getItemById(e){return await this.getById(e)||null}async createItem(e){let t={...e,status:"Received",createdAt:Date.now(),metadata:{createdBy:"system",version:"1.0"}};return this.create(t)}async updateItem(e,t){let r=await this.getById(e);if(!r)throw Error("Item not found");if(r.isLocked)throw Error("Item is locked for editing");let s={...r,...t,metadata:{...r.metadata,lastModified:Date.now()}};return this.update(e,s)}async softDelete(e){let t=await this.getById(e);if(!t)throw Error("Item not found");return this.update(e,{...t,status:"deleted",deletedAt:Date.now()})}async getItemsByStatus(e){return this.getFiltered("status","==",e)}async searchItems(e){return(await this.getAll()).filter(t=>t.title?.toLowerCase().includes(e.toLowerCase())||t.description?.toLowerCase().includes(e.toLowerCase()))}}let i=new a}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452,312],()=>r(6897));module.exports=s})();