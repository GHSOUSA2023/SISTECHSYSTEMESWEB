(()=>{var e={};e.id=181,e.ids=[181],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},686:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>l,serverHooks:()=>y,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{DELETE:()=>d,GET:()=>c,PUT:()=>p});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),u=r(8447);async function c(e,{params:t}){try{let{id:e}=await t;if(!e)return n.NextResponse.json({error:"ID is required"},{status:400});let r=await u.A.getById(e);if(!r)return n.NextResponse.json({error:"Item not found"},{status:404});return n.NextResponse.json(r)}catch(e){return console.error("GET Error:",e),n.NextResponse.json({error:"Failed to fetch item"},{status:500})}}async function p(e,{params:t}){try{let r=await t?.id,s=r?.toString();if(!s)return n.NextResponse.json({error:"ID is required"},{status:400});let a=await e.json(),i=await u.A.updateItem(s,a);return n.NextResponse.json(i)}catch(e){return n.NextResponse.json({error:"Failed to update item"},{status:500})}}async function d(e,{params:t}){try{let e=await t?.id,r=e?.toString();if(!r)return n.NextResponse.json({error:"ID is required"},{status:400});return await u.A.deleteItem(r),n.NextResponse.json({success:!0})}catch(e){return n.NextResponse.json({error:"Failed to delete item"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/packages/[id]/route",pathname:"/api/packages/[id]",filename:"route",bundlePath:"app/api/packages/[id]/route"},resolvedPagePath:"D:\\Project_Creccal\\creccal_aws\\src\\app\\api\\packages\\[id]\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:h,serverHooks:y}=l;function w(){return(0,o.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:h})}},6487:()=>{},8335:()=>{},8447:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(2618),a=r(1982),i=r(3710),o=r(9456);let n={apiKey:"AIzaSyArKn-vO5PGz6C9lv2RvKGskkE9yQWJgGM",authDomain:"creccal-control.firebaseapp.com",databaseURL:process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:"creccal-control",storageBucket:"creccal-control.firebasestorage.app",messagingSenderId:"601224722090",appId:"1:601224722090:web:18cc743e48521aaa1d02d3"},u=(0,s.Wp)(n),c=(0,i.C3)(u);(0,a.aU)(u),(0,o.xI)(u);class p{constructor(e){this.path=e,this.dbRef=(0,i.KR)(c,e)}async getAll(){return Object.values((await (0,i.Jt)(this.dbRef)).val()||{})}async getById(e){let t=(0,i.KR)(c,`${this.path}/${e}`);return(await (0,i.Jt)(t)).val()}async create(e){let t=(0,i.VC)(this.dbRef),r={...e,id:t.key};return await (0,i.hZ)(t,r),r}async update(e,t){let r=(0,i.KR)(c,`${this.path}/${e}`);return await (0,i.yo)(r,t),{...t,id:e}}async delete(e){let t=(0,i.KR)(c,`${this.path}/${e}`);await (0,i.hZ)(t,null)}async getFiltered(e,t,r){let s=(0,i.P)(this.dbRef,(0,i.kT)(e),(0,i.iz)(r));return Object.values((await (0,i.Jt)(s)).val()||{})}}class d extends p{constructor(){super("packages")}async getAllActiveItems(){return(await this.getAll()).filter(e=>"deleted"!==e.status)}async getItemById(e){return await this.getById(e)||null}async createItem(e){let t={...e,status:"Received",createdAt:Date.now(),metadata:{createdBy:"system",version:"1.0"}};return this.create(t)}async updateItem(e,t){let r=await this.getById(e);if(!r)throw Error("Item not found");if(r.isLocked)throw Error("Item is locked for editing");let s={...r,...t,metadata:{...r.metadata,lastModified:Date.now()}};return this.update(e,s)}async softDelete(e){let t=await this.getById(e);if(!t)throw Error("Item not found");return this.update(e,{...t,status:"deleted",deletedAt:Date.now()})}async getItemsByStatus(e){return this.getFiltered("status","==",e)}async searchItems(e){return(await this.getAll()).filter(t=>t.title?.toLowerCase().includes(e.toLowerCase())||t.description?.toLowerCase().includes(e.toLowerCase()))}}let l=new d}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452,749],()=>r(686));module.exports=s})();