(()=>{var e={};e.id=941,e.ids=[941],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},2663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>n,POST:()=>p});var a=r(2706),i=r(8203),o=r(5994),u=r(9187),c=r(8447);async function n(){try{let e=await c.A.getAll();return u.NextResponse.json(e)}catch(e){return console.error("API Route - Error:",e),u.NextResponse.json({error:"Failed to fetch items"},{status:500})}}async function p(e){try{let t=await e.json(),r=await c.A.createItem(t);return u.NextResponse.json(r,{status:201})}catch(e){return u.NextResponse.json({error:"Failed to create item"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/packages/route",pathname:"/api/packages",filename:"route",bundlePath:"app/api/packages/route"},resolvedPagePath:"D:\\Project_Creccal\\prj-01\\src\\app\\api\\packages\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:h,serverHooks:x}=d;function y(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:h})}},6487:()=>{},8335:()=>{},8447:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(2618),a=r(1982),i=r(3710),o=r(3601);let u={apiKey:"AIzaSyArKn-vO5PGz6C9lv2RvKGskkE9yQWJgGM",authDomain:"creccal-control.firebaseapp.com",databaseURL:process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:"creccal-control",storageBucket:"creccal-control.firebasestorage.app",messagingSenderId:"601224722090",appId:"1:601224722090:web:18cc743e48521aaa1d02d3"},c=(0,s.Wp)(u),n=(0,i.C3)(c);(0,a.aU)(c),(0,o.xI)(c);class p{constructor(e){this.path=e,this.dbRef=(0,i.KR)(n,e)}async getAll(){return Object.values((await (0,i.Jt)(this.dbRef)).val()||{})}async getById(e){let t=(0,i.KR)(n,`${this.path}/${e}`);return(await (0,i.Jt)(t)).val()}async create(e){let t=(0,i.VC)(this.dbRef),r={...e,id:t.key};return await (0,i.hZ)(t,r),r}async update(e,t){let r=(0,i.KR)(n,`${this.path}/${e}`);return await (0,i.yo)(r,t),{...t,id:e}}async delete(e){let t=(0,i.KR)(n,`${this.path}/${e}`);await (0,i.hZ)(t,null)}async getFiltered(e,t,r){let s=(0,i.P)(this.dbRef,(0,i.kT)(e),(0,i.iz)(r));return Object.values((await (0,i.Jt)(s)).val()||{})}}class d extends p{constructor(){super("packages")}async getAllActiveItems(){return(await this.getAll()).filter(e=>"deleted"!==e.status)}async getItemById(e){return await this.getById(e)||null}async createItem(e){let t={...e,status:"Received",createdAt:Date.now(),metadata:{createdBy:"system",version:"1.0"}};return this.create(t)}async updateItem(e,t){let r=await this.getById(e);if(!r)throw Error("Item not found");if(r.isLocked)throw Error("Item is locked for editing");let s={...r,...t,metadata:{...r.metadata,lastModified:Date.now()}};return this.update(e,s)}async softDelete(e){let t=await this.getById(e);if(!t)throw Error("Item not found");return this.update(e,{...t,status:"deleted",deletedAt:Date.now()})}async getItemsByStatus(e){return this.getFiltered("status","==",e)}async searchItems(e){return(await this.getAll()).filter(t=>t.title?.toLowerCase().includes(e.toLowerCase())||t.description?.toLowerCase().includes(e.toLowerCase()))}}let l=new d}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452,382],()=>r(2663));module.exports=s})();