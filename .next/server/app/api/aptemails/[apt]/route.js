(()=>{var e={};e.id=208,e.ids=[208],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},2703:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>p,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{PUT:()=>c});var a=r(2706),i=r(8203),o=r(5994),u=r(9187),n=r(4258);async function c(e,{params:t}){let r=t.apt;try{let t=await e.json(),s=await n.f.updateItem(r,t);return u.NextResponse.json(s)}catch(e){return console.error("âŒ Erro ao atualizar apt:",e),u.NextResponse.json({error:"Update failed"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/aptemails/[apt]/route",pathname:"/api/aptemails/[apt]",filename:"route",bundlePath:"app/api/aptemails/[apt]/route"},resolvedPagePath:"/Users/geraldohenriquesousa/Documents/Project_Creccal/creccal_aws/src/app/api/aptemails/[apt]/route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:h}=p;function m(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},6487:()=>{},8335:()=>{},4258:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var s=r(1065);class a extends s.J{constructor(){super("aptemails")}async getItemById(e){return await this.getById(e)||null}async updateItem(e,t){let r=await this.getById(e);if(!r)throw Error("Item not found");if(r.isLocked)throw Error("Item is locked for editing");let s=new Date,a={email:"string"==typeof t.email?t.email:"",metadata:{...r.metadata,lastModified:s.toLocaleString("fr-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"America/Toronto"}).replace(", "," ")}};return this.update(e,a)}async searchItems(e){return(await this.getAll()).filter(t=>t.title?.toLowerCase().includes(e.toLowerCase())||t.description?.toLowerCase().includes(e.toLowerCase()))}}let i=new a},1065:(e,t,r)=>{"use strict";r.d(t,{J:()=>p});var s=r(2618),a=r(1982),i=r(3710),o=r(687);let u={apiKey:"AIzaSyArKn-vO5PGz6C9lv2RvKGskkE9yQWJgGM",authDomain:"creccal-control.firebaseapp.com",databaseURL:process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,projectId:"creccal-control",storageBucket:"creccal-control.firebasestorage.app",messagingSenderId:"601224722090",appId:"1:601224722090:web:18cc743e48521aaa1d02d3"},n=(0,s.Wp)(u),c=(0,i.C3)(n);(0,a.aU)(n),(0,o.xI)(n);class p{constructor(e){this.path=e,this.dbRef=(0,i.KR)(c,e)}async getAll(){return Object.entries((await (0,i.Jt)(this.dbRef)).val()||{}).map(([e,t])=>({apt:e,...t}))}async getById(e){let t=(0,i.KR)(c,`${this.path}/${e}`);return(await (0,i.Jt)(t)).val()}async create(e){let t=(0,i.VC)(this.dbRef),r={...e,id:t.key};return await (0,i.hZ)(t,r),r}async update(e,t){let r=(0,i.KR)(c,`${this.path}/${e}`),s=await this.getById(e);if(!s)throw Error("Item not found");let a={...s,...t};return await (0,i.hZ)(r,a),a}async delete(e){let t=(0,i.KR)(c,`${this.path}/${e}`);await (0,i.hZ)(t,null)}async getFiltered(e,t,r){let s=(0,i.P)(this.dbRef,(0,i.kT)(e),(0,i.iz)(r));return Object.values((await (0,i.Jt)(s)).val()||{})}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452,312],()=>r(2703));module.exports=s})();